<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Monitoring ‚Äî CHICKENARIUM</title>
  <link rel="stylesheet" href="Navbar.css" />
  <style>
    body {
      font-family:Inter,Segoe UI,Arial,sans-serif;
      margin:0;
      background:#FFFBF2;
      color:#222;
    }
    .container {
      max-width:1000px;
      margin:0 auto;
      padding:20px;
    }
    .video-container {
      text-align:center;
      margin-bottom: 20px;
    }
    video {
      width: 100%;
      max-width: 800px;
      border: 2px solid #ccc;
      border-radius: 8px;
      background: #000;
    }
    .status-banner {
      background-color: #d4edda; /* green for healthy by default */
      color: #155724;
      padding: 15px;
      border-radius: 8px;
      border: 1px solid #c3e6cb;
      font-size: 18px;
      margin-bottom: 10px;
    }
    .status-banner.problem {
      background-color: #f8d7da; /* red for problem */
      color: #721c24;
      border-color: #f5c6cb;
    }
    .summary {
      background: #fff8f0;
      padding: 15px;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-bottom: 20px;
      font-size: 18px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    table, th, td {
      border: 1px solid #ccc;
    }
    th, td {
      padding: 10px;
      text-align: left;
    }
    th {
      background-color: #f2e5d5;
    }
    tbody tr:nth-child(even) {
      background-color: #fff8f0;
    }
    tbody tr:hover {
      background-color: #ffe0b2;
    }
  </style>
</head>
<body>
  <header class="topnav">
    <div class="container nav-inner">
      <a class="brand" href="home.html">üêî CHICKENARIUM</a>
      <button id="menuBtn" class="menu-btn" aria-label="Toggle menu">‚ò∞</button>
      <nav id="siteNav" class="nav-links" aria-label="Main navigation">
        <a href="Fpage.html">Home</a>
        <a href="monitoring.html" class="active">Monitoring</a>
        <a href="history.html">History</a>
        <a href="settings.html">Settings</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <h1>Monitoring</h1>
    <p>Live monitoring of HPAI symptoms detected in chickens.</p>

    <!-- Live Camera Feed -->
    <div class="video-container">
      <h2>Live Chicken Feed</h2>
      <video id="chickenVideo" autoplay muted playsinline>
        <!-- Replace source with your camera stream URL -->
        <source src="http://YOUR_CAMERA_IP:PORT/stream" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>

    <!-- Farm Status -->
    <div id="farmStatus" class="status-banner">
      Farm Status: Healthy
    </div>

    <!-- Suspected summary -->
    <div class="summary">
      Total Suspected Chickens: <span id="suspectedCount">0</span>
    </div>

    <!-- Monitoring Table -->
    <table id="monitoringTable">
      <thead>
        <tr>
          <th>Time</th>
          <th>Health Status</th>
          <th>Symptoms</th>
          <th>Remarks</th>
        </tr>
      </thead>
      <tbody id="monitoringBody">
        <!-- Placeholder rows -->
        <tr>
          <td>2026-01-24 08:15:12</td>
          <td>NORMAL</td>
          <td>None</td>
          <td>All chickens healthy</td>
        </tr>
        <tr>
          <td>2026-01-24 09:02:45</td>
          <td>SUSPECTED</td>
          <td>Coughing, Lethargy, Nasal discharge</td>
          <td>Immediate check recommended</td>
        </tr>
      </tbody>
    </table>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', ()=>{
      const btn = document.getElementById('menuBtn');
      const nav = document.getElementById('siteNav');
      btn.addEventListener('click', ()=> nav.classList.toggle('open'));
    });

    // JS function to dynamically add row and update suspected count & farm status
    function addMonitoringRow(time, status, symptoms, remarks) {
      const tbody = document.getElementById('monitoringBody');
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${time}</td>
        <td>${status}</td>
        <td>${symptoms}</td>
        <td>${remarks}</td>
      `;
      tbody.prepend(row); // newest on top

      // Update suspected count
      const countEl = document.getElementById('suspectedCount');
      if(status.toUpperCase() === 'SUSPECTED') {
        countEl.textContent = parseInt(countEl.textContent) + 1;
      }

      // Update farm status
      const farmStatusEl = document.getElementById('farmStatus');
      if(parseInt(countEl.textContent) > 0) {
        farmStatusEl.textContent = 'Farm Status: Problem Detected';
        farmStatusEl.classList.add('problem');
      } else {
        farmStatusEl.textContent = 'Farm Status: Healthy';
        farmStatusEl.classList.remove('problem');
      }
    }

    // Example dynamic update (replace with backend/AJAX)
    // addMonitoringRow('2026-01-24 10:30:00', 'SUSPECTED', 'Diarrhea, Swollen comb', 'Check individual birds');
  </script>
</body>
</html>
